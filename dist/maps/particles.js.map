{"version":3,"sources":["particles.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","options","Particle","maxX","maxY","this","x","Math","random","y","size","max","min","speed","value","ctx","beginPath","arc","PI","fillStyle","color","fill","closePath","2","_typeof","Symbol","iterator","obj","constructor","window","Particles","deepExtend","destination","source","defaultOptions","density","fps","tagName","toLowerCase","width","offsetWidth","height","offsetHeight","initialize","_this","getContext","area","nbParticles","floor","particles","Array","push","setInterval","draw","clearRect","./Particle/Particle.js"],"mappings":"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","file":"../particles.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nmodule.exports = exports = function exports(options) {\n\treturn function () {\n\t\tfunction Particle(maxX, maxY) {\n\t\t\t_classCallCheck(this, Particle);\n\n\t\t\tthis.x = Math.random() * maxX;\n\t\t\tthis.y = Math.random() * maxY;\n\t\t\tthis.size = Math.random() * (options.size.max - options.size.min) + options.size.min;\n\n\t\t\tthis.speed = {\n\t\t\t\tx: options.speed * (Math.random() - .5),\n\t\t\t\ty: options.speed * (Math.random() - .5)\n\t\t\t};\n\t\t}\n\n\t\t_createClass(Particle, [{\n\t\t\tkey: \"draw\",\n\t\t\tvalue: function draw(ctx) {\n\t\t\t\tthis.x += this.speed.x;\n\t\t\t\tthis.y += this.speed.y;\n\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(this.x, this.y, this.size, 0, 2 * Math.PI, true);\n\t\t\t\tctx.fillStyle = options.color;\n\t\t\t\tctx.fill();\n\t\t\t\tctx.closePath();\n\t\t\t}\n\t\t}]);\n\n\t\treturn Particle;\n\t}();\n};\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nwindow.Particles = function main() {\n\tvar Particle = require(\"./Particle/Particle.js\");\n\n\t// Copies keys from the source to the destination, overriding the destination keys\n\tfunction deepExtend(destination, source) {\n\t\tfor (var key in source) {\n\t\t\tif (_typeof(destination[key]) === \"object\" && _typeof(source[key]) === \"object\") {\n\t\t\t\tdestination[key] = deepExtend(destination[key], source[key]);\n\t\t\t} else {\n\t\t\t\tdestination[key] = source[key];\n\t\t\t}\n\t\t}\n\t\treturn destination;\n\t}\n\n\t// Default options\n\tvar defaultOptions = {\n\t\tsize: {\n\t\t\tmin: 0,\n\t\t\tmax: 2\n\t\t},\n\t\tdensity: 1000,\n\t\tspeed: 10,\n\t\tfps: 30,\n\t\tcolor: \"#FFFFFF\"\n\t};\n\n\treturn function () {\n\t\tfunction Particles(target, options) {\n\t\t\t_classCallCheck(this, Particles);\n\n\t\t\t// Check if the target is a canvas\n\t\t\tif (!target || target.tagName.toLowerCase() !== \"canvas\") {\n\t\t\t\tthrow new Error(\"Particles: The provided target is invalid.\");\n\t\t\t} else {\n\t\t\t\tthis.target = target;\n\t\t\t\tthis.target.width = this.target.offsetWidth;\n\t\t\t\tthis.target.height = this.target.offsetHeight;\n\t\t\t\tthis.options = deepExtend(defaultOptions, options);\n\t\t\t\tParticle = Particle(this.options);\n\n\t\t\t\tthis.initialize();\n\t\t\t}\n\t\t}\n\n\t\t_createClass(Particles, [{\n\t\t\tkey: \"initialize\",\n\t\t\tvalue: function initialize() {\n\t\t\t\tvar _this = this;\n\n\t\t\t\tthis.ctx = this.target.getContext(\"2d\");\n\t\t\t\tvar area = this.target.offsetWidth * this.target.offsetHeight;\n\t\t\t\tvar nbParticles = Math.floor(area / (1 / this.options.density * 100000) / 50);\n\n\t\t\t\t// create new particles and store them\n\t\t\t\tvar particles = new Array();\n\t\t\t\tfor (var i = 0; i < nbParticles; i++) {\n\t\t\t\t\tparticles.push(new Particle(this.target.offsetWidth, this.target.offsetHeight));\n\t\t\t\t}\n\n\t\t\t\tsetInterval(function () {\n\t\t\t\t\treturn _this.draw(particles);\n\t\t\t\t}, 1000 / this.options.fps);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"draw\",\n\t\t\tvalue: function draw(particles) {\n\t\t\t\tthis.ctx.clearRect(0, 0, this.target.width, this.target.height);\n\n\t\t\t\tfor (var i = 0; i < particles.length; i++) {\n\t\t\t\t\tparticles[i].draw(this.ctx);\n\t\t\t\t}\n\t\t\t}\n\t\t}]);\n\n\t\treturn Particles;\n\t}();\n}();\n\n},{\"./Particle/Particle.js\":1}]},{},[2])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJsaWJcXFBhcnRpY2xlXFxQYXJ0aWNsZS5qcyIsImxpYlxcaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUNBQSxPQUFPLE9BQVAsR0FBaUIsVUFBVyxpQkFBVSxPQUFWLEVBQW1CO0FBQzlDO0FBQ0Msb0JBQWEsSUFBYixFQUFtQixJQUFuQixFQUF5QjtBQUFBOztBQUN4QixRQUFLLENBQUwsR0FBUyxLQUFLLE1BQUwsS0FBZ0IsSUFBekI7QUFDQSxRQUFLLENBQUwsR0FBUyxLQUFLLE1BQUwsS0FBZ0IsSUFBekI7QUFDQSxRQUFLLElBQUwsR0FBWSxLQUFLLE1BQUwsTUFBaUIsUUFBUSxJQUFSLENBQWEsR0FBYixHQUFtQixRQUFRLElBQVIsQ0FBYSxHQUFqRCxJQUF3RCxRQUFRLElBQVIsQ0FBYSxHQUFqRjs7QUFFQSxRQUFLLEtBQUwsR0FBYTtBQUNaLE9BQUcsUUFBUSxLQUFSLElBQWlCLEtBQUssTUFBTCxLQUFnQixFQUFqQyxDQURTO0FBRVosT0FBRyxRQUFRLEtBQVIsSUFBaUIsS0FBSyxNQUFMLEtBQWdCLEVBQWpDO0FBRlMsSUFBYjtBQUlBOztBQVZGO0FBQUE7QUFBQSx3QkFZTyxHQVpQLEVBWVk7QUFDVixTQUFLLENBQUwsSUFBVSxLQUFLLEtBQUwsQ0FBVyxDQUFyQjtBQUNBLFNBQUssQ0FBTCxJQUFVLEtBQUssS0FBTCxDQUFXLENBQXJCOztBQUVBLFFBQUksU0FBSjtBQUNBLFFBQUksR0FBSixDQUFRLEtBQUssQ0FBYixFQUFnQixLQUFLLENBQXJCLEVBQXdCLEtBQUssSUFBN0IsRUFBbUMsQ0FBbkMsRUFBc0MsSUFBSSxLQUFLLEVBQS9DLEVBQW1ELElBQW5EO0FBQ0EsUUFBSSxTQUFKLEdBQWdCLFFBQVEsS0FBeEI7QUFDQSxRQUFJLElBQUo7QUFDQSxRQUFJLFNBQUo7QUFDQTtBQXJCRjs7QUFBQTtBQUFBO0FBdUJBLENBeEJE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Um9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwibW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gKGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0cmV0dXJuIGNsYXNzIFBhcnRpY2xlIHtcclxuXHRcdGNvbnN0cnVjdG9yIChtYXhYLCBtYXhZKSB7XHJcblx0XHRcdHRoaXMueCA9IE1hdGgucmFuZG9tKCkgKiBtYXhYO1xyXG5cdFx0XHR0aGlzLnkgPSBNYXRoLnJhbmRvbSgpICogbWF4WTtcclxuXHRcdFx0dGhpcy5zaXplID0gTWF0aC5yYW5kb20oKSAqIChvcHRpb25zLnNpemUubWF4IC0gb3B0aW9ucy5zaXplLm1pbikgKyBvcHRpb25zLnNpemUubWluO1xyXG5cclxuXHRcdFx0dGhpcy5zcGVlZCA9IHtcclxuXHRcdFx0XHR4OiBvcHRpb25zLnNwZWVkICogKE1hdGgucmFuZG9tKCkgLSAuNSksXHJcblx0XHRcdFx0eTogb3B0aW9ucy5zcGVlZCAqIChNYXRoLnJhbmRvbSgpIC0gLjUpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRkcmF3IChjdHgpIHtcclxuXHRcdFx0dGhpcy54ICs9IHRoaXMuc3BlZWQueDtcclxuXHRcdFx0dGhpcy55ICs9IHRoaXMuc3BlZWQueTtcclxuXHJcblx0XHRcdGN0eC5iZWdpblBhdGgoKTtcclxuXHRcdFx0Y3R4LmFyYyh0aGlzLngsIHRoaXMueSwgdGhpcy5zaXplLCAwLCAyICogTWF0aC5QSSwgdHJ1ZSk7XHJcblx0XHRcdGN0eC5maWxsU3R5bGUgPSBvcHRpb25zLmNvbG9yO1xyXG5cdFx0XHRjdHguZmlsbCgpO1xyXG5cdFx0XHRjdHguY2xvc2VQYXRoKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KTsiLCJ3aW5kb3cuUGFydGljbGVzID0gKGZ1bmN0aW9uIG1haW4oKSB7XHJcblx0bGV0IFBhcnRpY2xlID0gcmVxdWlyZShcIi4vUGFydGljbGUvUGFydGljbGUuanNcIik7XHJcblxyXG5cdC8vIENvcGllcyBrZXlzIGZyb20gdGhlIHNvdXJjZSB0byB0aGUgZGVzdGluYXRpb24sIG92ZXJyaWRpbmcgdGhlIGRlc3RpbmF0aW9uIGtleXNcclxuXHRmdW5jdGlvbiBkZWVwRXh0ZW5kIChkZXN0aW5hdGlvbiwgc291cmNlKSB7XHJcblx0XHRmb3IgKGNvbnN0IGtleSBpbiBzb3VyY2UpIHtcclxuXHRcdFx0aWYgKHR5cGVvZiBkZXN0aW5hdGlvbltrZXldID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBzb3VyY2Vba2V5XSA9PT0gXCJvYmplY3RcIikge1xyXG5cdFx0XHRcdGRlc3RpbmF0aW9uW2tleV0gPSBkZWVwRXh0ZW5kKGRlc3RpbmF0aW9uW2tleV0sIHNvdXJjZVtrZXldKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRkZXN0aW5hdGlvbltrZXldID0gc291cmNlW2tleV07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBkZXN0aW5hdGlvbjtcclxuXHR9XHJcblxyXG5cdC8vIERlZmF1bHQgb3B0aW9uc1xyXG5cdGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xyXG5cdFx0c2l6ZToge1xyXG5cdFx0XHRtaW46IDAsXHJcblx0XHRcdG1heDogMlxyXG5cdFx0fSxcclxuXHRcdGRlbnNpdHk6IDEwMDAsXHJcblx0XHRzcGVlZDogMTAsXHJcblx0XHRmcHM6IDMwLFxyXG5cdFx0Y29sb3I6IFwiI0ZGRkZGRlwiXHJcblx0fVxyXG5cclxuXHRyZXR1cm4gY2xhc3MgUGFydGljbGVzIHtcclxuXHRcdGNvbnN0cnVjdG9yICh0YXJnZXQsIG9wdGlvbnMpIHtcclxuXHRcdFx0Ly8gQ2hlY2sgaWYgdGhlIHRhcmdldCBpcyBhIGNhbnZhc1xyXG5cdFx0XHRpZiAoIXRhcmdldCB8fCB0YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcImNhbnZhc1wiKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiUGFydGljbGVzOiBUaGUgcHJvdmlkZWQgdGFyZ2V0IGlzIGludmFsaWQuXCIpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xyXG5cdFx0XHRcdHRoaXMudGFyZ2V0LndpZHRoID0gdGhpcy50YXJnZXQub2Zmc2V0V2lkdGg7XHJcblx0XHRcdFx0dGhpcy50YXJnZXQuaGVpZ2h0ID0gdGhpcy50YXJnZXQub2Zmc2V0SGVpZ2h0O1xyXG5cdFx0XHRcdHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xyXG5cdFx0XHRcdFBhcnRpY2xlID0gUGFydGljbGUodGhpcy5vcHRpb25zKTtcclxuXHJcblx0XHRcdFx0dGhpcy5pbml0aWFsaXplKCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpbml0aWFsaXplICgpIHtcclxuXHRcdFx0dGhpcy5jdHggPSB0aGlzLnRhcmdldC5nZXRDb250ZXh0KFwiMmRcIik7XHJcblx0XHRcdGNvbnN0IGFyZWEgPSB0aGlzLnRhcmdldC5vZmZzZXRXaWR0aCAqIHRoaXMudGFyZ2V0Lm9mZnNldEhlaWdodDtcclxuXHRcdFx0Y29uc3QgbmJQYXJ0aWNsZXMgPSBNYXRoLmZsb29yKGFyZWEgLyAoKDEgLyB0aGlzLm9wdGlvbnMuZGVuc2l0eSkgKiAxMDAwMDApIC8gNTApO1xyXG5cclxuXHRcdFx0Ly8gY3JlYXRlIG5ldyBwYXJ0aWNsZXMgYW5kIHN0b3JlIHRoZW1cclxuXHRcdFx0Y29uc3QgcGFydGljbGVzID0gbmV3IEFycmF5KCk7XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbmJQYXJ0aWNsZXM7IGkrKykge1xyXG5cdFx0XHRcdHBhcnRpY2xlcy5wdXNoKG5ldyBQYXJ0aWNsZSh0aGlzLnRhcmdldC5vZmZzZXRXaWR0aCwgdGhpcy50YXJnZXQub2Zmc2V0SGVpZ2h0KSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHNldEludGVydmFsKCgpID0+IHRoaXMuZHJhdyhwYXJ0aWNsZXMpLCAxMDAwIC8gdGhpcy5vcHRpb25zLmZwcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZHJhdyAocGFydGljbGVzKSB7XHJcblx0XHRcdHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLnRhcmdldC53aWR0aCwgdGhpcy50YXJnZXQuaGVpZ2h0KTtcclxuXHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcGFydGljbGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0cGFydGljbGVzW2ldLmRyYXcodGhpcy5jdHgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpOyJdfQ==\n"]}
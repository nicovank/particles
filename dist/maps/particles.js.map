{"version":3,"sources":["particles.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","options","Particle","maxX","maxY","this","reset","value","x","Math","random","y","size","max","min","speed","ctx","beginPath","arc","PI","fillStyle","color","fill","closePath","2","_typeof","Symbol","iterator","obj","constructor","window","Particles","deepExtend","destination","source","defaultOptions","density","fps","tagName","toLowerCase","width","offsetWidth","height","offsetHeight","initialize","_this","console","log","interval","setInterval","draw","particles","clearInterval","getContext","area","nbParticles","floor","Array","push","start","clearRect","./Particle/Particle.js"],"mappings":"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","file":"../particles.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nmodule.exports = exports = function exports(options) {\n\treturn function () {\n\t\tfunction Particle(maxX, maxY) {\n\t\t\t_classCallCheck(this, Particle);\n\n\t\t\tthis.maxX = maxX;\n\t\t\tthis.maxY = maxY;\n\n\t\t\tthis.reset();\n\t\t}\n\n\t\t// reset position to somewhere on the canvas and random size and speed\n\n\n\t\t_createClass(Particle, [{\n\t\t\tkey: \"reset\",\n\t\t\tvalue: function reset() {\n\t\t\t\tthis.x = Math.random() * this.maxX;\n\t\t\t\tthis.y = Math.random() * this.maxY;\n\t\t\t\tthis.size = Math.random() * (options.size.max - options.size.min) + options.size.min;\n\n\t\t\t\tthis.speed = {\n\t\t\t\t\tx: options.speed * (Math.random() - .5),\n\t\t\t\t\ty: options.speed * (Math.random() - .5)\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// draw the particle\n\n\t\t}, {\n\t\t\tkey: \"draw\",\n\t\t\tvalue: function draw(ctx) {\n\t\t\t\tthis.x += this.speed.x;\n\t\t\t\tthis.y += this.speed.y;\n\n\t\t\t\t// if particle outside of the canvas\n\t\t\t\tif (this.x < 0 || this.y < 0 || this.x > this.maxX || this.y > this.maxY) {\n\t\t\t\t\tthis.reset();\n\t\t\t\t}\n\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(this.x, this.y, this.size, 0, 2 * Math.PI, true);\n\t\t\t\tctx.fillStyle = options.color;\n\t\t\t\tctx.fill();\n\t\t\t\tctx.closePath();\n\t\t\t}\n\t\t}]);\n\n\t\treturn Particle;\n\t}();\n};\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nwindow.Particles = function main() {\n\tvar Particle = require(\"./Particle/Particle.js\");\n\n\t// Copies keys from the source to the destination, overriding the destination keys\n\tfunction deepExtend(destination, source) {\n\t\tfor (var key in source) {\n\t\t\tif (_typeof(destination[key]) === \"object\" && _typeof(source[key]) === \"object\") {\n\t\t\t\tdestination[key] = deepExtend(destination[key], source[key]);\n\t\t\t} else {\n\t\t\t\tdestination[key] = source[key];\n\t\t\t}\n\t\t}\n\t\treturn destination;\n\t}\n\n\t// Default options\n\tvar defaultOptions = {\n\t\tsize: {\n\t\t\tmin: 0,\n\t\t\tmax: 2\n\t\t},\n\t\tdensity: 1000,\n\t\tspeed: 3,\n\t\tfps: 60,\n\t\tcolor: \"#FFFFFF\"\n\t};\n\n\treturn function () {\n\t\tfunction Particles(target, options) {\n\t\t\t_classCallCheck(this, Particles);\n\n\t\t\t// check if the target is a canvas\n\t\t\tif (!target || target.tagName.toLowerCase() !== \"canvas\") {\n\t\t\t\tthrow new Error(\"Particles: The provided target is invalid.\");\n\t\t\t} else {\n\t\t\t\t// set up the canvas\n\t\t\t\tthis.target = target;\n\t\t\t\tthis.target.width = this.target.offsetWidth;\n\t\t\t\tthis.target.height = this.target.offsetHeight;\n\n\t\t\t\t// merge default options and those passed as parameters\n\t\t\t\tthis.options = deepExtend(defaultOptions, options);\n\t\t\t\tParticle = Particle(this.options);\n\n\t\t\t\tthis.initialize();\n\t\t\t}\n\t\t}\n\n\t\t// starts drawing\n\n\n\t\t_createClass(Particles, [{\n\t\t\tkey: \"start\",\n\t\t\tvalue: function start() {\n\t\t\t\tvar _this = this;\n\n\t\t\t\tconsole.log(\"ok\");\n\t\t\t\tthis.interval = setInterval(function () {\n\t\t\t\t\treturn _this.draw(_this.particles);\n\t\t\t\t}, 1000 / this.options.fps);\n\t\t\t}\n\n\t\t\t// pauses / stops the drawing\n\n\t\t}, {\n\t\t\tkey: \"stop\",\n\t\t\tvalue: function stop() {\n\t\t\t\tclearInterval(this.interval);\n\t\t\t}\n\n\t\t\t// starts the particle system\n\n\t\t}, {\n\t\t\tkey: \"initialize\",\n\t\t\tvalue: function initialize() {\n\t\t\t\tthis.ctx = this.target.getContext(\"2d\");\n\t\t\t\tvar area = this.target.offsetWidth * this.target.offsetHeight;\n\t\t\t\tvar nbParticles = Math.floor(area / (1 / this.options.density * 100000) / 50);\n\n\t\t\t\t// create new particles and store them\n\t\t\t\tthis.particles = new Array();\n\t\t\t\tfor (var i = 0; i < nbParticles; i++) {\n\t\t\t\t\tthis.particles.push(new Particle(this.target.offsetWidth, this.target.offsetHeight));\n\t\t\t\t}\n\n\t\t\t\t// set refresh interval\n\t\t\t\tthis.start();\n\t\t\t}\n\n\t\t\t// called to clear and redraw the canvas\n\n\t\t}, {\n\t\t\tkey: \"draw\",\n\t\t\tvalue: function draw(particles) {\n\t\t\t\tthis.ctx.clearRect(0, 0, this.target.width, this.target.height);\n\n\t\t\t\tfor (var i = 0; i < particles.length; i++) {\n\t\t\t\t\t// draw the particle\n\t\t\t\t\tparticles[i].draw(this.ctx);\n\t\t\t\t}\n\t\t\t}\n\t\t}]);\n\n\t\treturn Particles;\n\t}();\n}();\n\n},{\"./Particle/Particle.js\":1}]},{},[2])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJsaWJcXFBhcnRpY2xlXFxQYXJ0aWNsZS5qcyIsImxpYlxcaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUNBQSxPQUFPLE9BQVAsR0FBaUIsVUFBVyxpQkFBVSxPQUFWLEVBQW1CO0FBQzlDO0FBQ0Msb0JBQWEsSUFBYixFQUFtQixJQUFuQixFQUF5QjtBQUFBOztBQUN4QixRQUFLLElBQUwsR0FBWSxJQUFaO0FBQ0EsUUFBSyxJQUFMLEdBQVksSUFBWjs7QUFFQSxRQUFLLEtBQUw7QUFDQTs7QUFFRDs7O0FBUkQ7QUFBQTtBQUFBLDJCQVNVO0FBQ1IsU0FBSyxDQUFMLEdBQVMsS0FBSyxNQUFMLEtBQWdCLEtBQUssSUFBOUI7QUFDQSxTQUFLLENBQUwsR0FBUyxLQUFLLE1BQUwsS0FBZ0IsS0FBSyxJQUE5QjtBQUNBLFNBQUssSUFBTCxHQUFZLEtBQUssTUFBTCxNQUFpQixRQUFRLElBQVIsQ0FBYSxHQUFiLEdBQW1CLFFBQVEsSUFBUixDQUFhLEdBQWpELElBQXdELFFBQVEsSUFBUixDQUFhLEdBQWpGOztBQUVBLFNBQUssS0FBTCxHQUFhO0FBQ1osUUFBRyxRQUFRLEtBQVIsSUFBaUIsS0FBSyxNQUFMLEtBQWdCLEVBQWpDLENBRFM7QUFFWixRQUFHLFFBQVEsS0FBUixJQUFpQixLQUFLLE1BQUwsS0FBZ0IsRUFBakM7QUFGUyxLQUFiO0FBSUE7O0FBRUQ7O0FBcEJEO0FBQUE7QUFBQSx3QkFxQk8sR0FyQlAsRUFxQlk7QUFDVixTQUFLLENBQUwsSUFBVSxLQUFLLEtBQUwsQ0FBVyxDQUFyQjtBQUNBLFNBQUssQ0FBTCxJQUFVLEtBQUssS0FBTCxDQUFXLENBQXJCOztBQUVBO0FBQ0EsUUFBSSxLQUFLLENBQUwsR0FBUyxDQUFULElBQWMsS0FBSyxDQUFMLEdBQVMsQ0FBdkIsSUFBNEIsS0FBSyxDQUFMLEdBQVMsS0FBSyxJQUExQyxJQUFrRCxL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QWlDLEdBQWpDLEVBQXNDO0FBQ3JDLFVBQUssU0FBTCxDQUFlLElBQWYsQ0FBb0IsSUFBSSxRQUFKLENBQWEsS0FBSyxNQUFMLENBQVksV0FBekIsRUFBc0MsS0FBSyxNQUFMLENBQVksWUFBbEQsQ0FBcEI7QUFDQTs7QUFFRDtBQUNBLFNBQUssS0FBTDtBQUNBOztBQUVEOztBQTlDRDtBQUFBO0FBQUEsd0JBK0NPLFNBL0NQLEVBK0NrQjtBQUNoQixTQUFLLEdBQUwsQ0FBUyxTQUFULENBQW1CLENBQW5CLEVBQXNCLENBQXRCLEVBQXlCLEtBQUssTUFBTCxDQUFZLEtBQXJDLEVBQTRDLEtBQUssTUFBTCxDQUFZLE1BQXhEOztBQUVBLFNBQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxVQUFVLE1BQTlCLEVBQXNDLEdBQXRDLEVBQTJDO0FBQzFDO0FBQ0EsZUFBVSxDQUFWLEVBQWEsSUFBYixDQUFrQixLQUFLLEdBQXZCO0FBQ0E7QUFDRDtBQXRERjs7QUFBQTtBQUFBO0FBd0RBLENBbkZrQixFQUFuQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSAoZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuXHRyZXR1cm4gY2xhc3MgUGFydGljbGUge1xyXG5cdFx0Y29uc3RydWN0b3IgKG1heFgsIG1heFkpIHtcclxuXHRcdFx0dGhpcy5tYXhYID0gbWF4WDtcclxuXHRcdFx0dGhpcy5tYXhZID0gbWF4WTtcclxuXHRcdFx0XHJcblx0XHRcdHRoaXMucmVzZXQoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyByZXNldCBwb3NpdGlvbiB0byBzb21ld2hlcmUgb24gdGhlIGNhbnZhcyBhbmQgcmFuZG9tIHNpemUgYW5kIHNwZWVkXHJcblx0XHRyZXNldCAoKSB7XHJcblx0XHRcdHRoaXMueCA9IE1hdGgucmFuZG9tKCkgKiB0aGlzLm1heFg7XHJcblx0XHRcdHRoaXMueSA9IE1hdGgucmFuZG9tKCkgKiB0aGlzLm1heFk7XHJcblx0XHRcdHRoaXMuc2l6ZSA9IE1hdGgucmFuZG9tKCkgKiAob3B0aW9ucy5zaXplLm1heCAtIG9wdGlvbnMuc2l6ZS5taW4pICsgb3B0aW9ucy5zaXplLm1pbjtcclxuXHJcblx0XHRcdHRoaXMuc3BlZWQgPSB7XHJcblx0XHRcdFx0eDogb3B0aW9ucy5zcGVlZCAqIChNYXRoLnJhbmRvbSgpIC0gLjUpLFxyXG5cdFx0XHRcdHk6IG9wdGlvbnMuc3BlZWQgKiAoTWF0aC5yYW5kb20oKSAtIC41KVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gZHJhdyB0aGUgcGFydGljbGVcclxuXHRcdGRyYXcgKGN0eCkge1xyXG5cdFx0XHR0aGlzLnggKz0gdGhpcy5zcGVlZC54O1xyXG5cdFx0XHR0aGlzLnkgKz0gdGhpcy5zcGVlZC55O1xyXG5cclxuXHRcdFx0Ly8gaWYgcGFydGljbGUgb3V0c2lkZSBvZiB0aGUgY2FudmFzXHJcblx0XHRcdGlmICh0aGlzLnggPCAwIHx8IHRoaXMueSA8IDAgfHwgdGhpcy54ID4gdGhpcy5tYXhYIHx8IHRoaXMueSA+IHRoaXMubWF4WSkge1xyXG5cdFx0XHRcdHRoaXMucmVzZXQoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdFx0XHRjdHguYXJjKHRoaXMueCwgdGhpcy55LCB0aGlzLnNpemUsIDAsIDIgKiBNYXRoLlBJLCB0cnVlKTtcclxuXHRcdFx0Y3R4LmZpbGxTdHlsZSA9IG9wdGlvbnMuY29sb3I7XHJcblx0XHRcdGN0eC5maWxsKCk7XHJcblx0XHRcdGN0eC5jbG9zZVBhdGgoKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pOyIsIndpbmRvdy5QYXJ0aWNsZXMgPSAoZnVuY3Rpb24gbWFpbiAoKSB7XHJcblx0bGV0IFBhcnRpY2xlID0gcmVxdWlyZShcIi4vUGFydGljbGUvUGFydGljbGUuanNcIik7XHJcblxyXG5cdC8vIENvcGllcyBrZXlzIGZyb20gdGhlIHNvdXJjZSB0byB0aGUgZGVzdGluYXRpb24sIG92ZXJyaWRpbmcgdGhlIGRlc3RpbmF0aW9uIGtleXNcclxuXHRmdW5jdGlvbiBkZWVwRXh0ZW5kIChkZXN0aW5hdGlvbiwgc291cmNlKSB7XHJcblx0XHRmb3IgKGNvbnN0IGtleSBpbiBzb3VyY2UpIHtcclxuXHRcdFx0aWYgKHR5cGVvZiBkZXN0aW5hdGlvbltrZXldID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBzb3VyY2Vba2V5XSA9PT0gXCJvYmplY3RcIikge1xyXG5cdFx0XHRcdGRlc3RpbmF0aW9uW2tleV0gPSBkZWVwRXh0ZW5kKGRlc3RpbmF0aW9uW2tleV0sIHNvdXJjZVtrZXldKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRkZXN0aW5hdGlvbltrZXldID0gc291cmNlW2tleV07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBkZXN0aW5hdGlvbjtcclxuXHR9XHJcblxyXG5cdC8vIERlZmF1bHQgb3B0aW9uc1xyXG5cdGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xyXG5cdFx0c2l6ZToge1xyXG5cdFx0XHRtaW46IDAsXHJcblx0XHRcdG1heDogMlxyXG5cdFx0fSxcclxuXHRcdGRlbnNpdHk6IDEwMDAsXHJcblx0XHRzcGVlZDogMyxcclxuXHRcdGZwczogNjAsXHJcblx0XHRjb2xvcjogXCIjRkZGRkZGXCJcclxuXHR9O1xyXG5cclxuXHRyZXR1cm4gY2xhc3MgUGFydGljbGVzIHtcclxuXHRcdGNvbnN0cnVjdG9yICh0YXJnZXQsIG9wdGlvbnMpIHtcclxuXHRcdFx0Ly8gY2hlY2sgaWYgdGhlIHRhcmdldCBpcyBhIGNhbnZhc1xyXG5cdFx0XHRpZiAoIXRhcmdldCB8fCB0YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcImNhbnZhc1wiKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiUGFydGljbGVzOiBUaGUgcHJvdmlkZWQgdGFyZ2V0IGlzIGludmFsaWQuXCIpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIHNldCB1cCB0aGUgY2FudmFzXHJcblx0XHRcdFx0dGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcblx0XHRcdFx0dGhpcy50YXJnZXQud2lkdGggPSB0aGlzLnRhcmdldC5vZmZzZXRXaWR0aDtcclxuXHRcdFx0XHR0aGlzLnRhcmdldC5oZWlnaHQgPSB0aGlzLnRhcmdldC5vZmZzZXRIZWlnaHQ7XHJcblxyXG5cdFx0XHRcdC8vIG1lcmdlIGRlZmF1bHQgb3B0aW9ucyBhbmQgdGhvc2UgcGFzc2VkIGFzIHBhcmFtZXRlcnNcclxuXHRcdFx0XHR0aGlzLm9wdGlvbnMgPSBkZWVwRXh0ZW5kKGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcclxuXHRcdFx0XHRQYXJ0aWNsZSA9IFBhcnRpY2xlKHRoaXMub3B0aW9ucyk7XHJcblxyXG5cdFx0XHRcdHRoaXMuaW5pdGlhbGl6ZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gc3RhcnRzIGRyYXdpbmdcclxuXHRcdHN0YXJ0ICgpIHtcclxuXHRcdFx0Y29uc29sZS5sb2coXCJva1wiKTtcclxuXHRcdFx0dGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHRoaXMuZHJhdyh0aGlzLnBhcnRpY2xlcyksIDEwMDAgLyB0aGlzLm9wdGlvbnMuZnBzKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBwYXVzZXMgLyBzdG9wcyB0aGUgZHJhd2luZ1xyXG5cdFx0c3RvcCAoKSB7XHJcblx0XHRcdGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gc3RhcnRzIHRoZSBwYXJ0aWNsZSBzeXN0ZW1cclxuXHRcdGluaXRpYWxpemUgKCkge1xyXG5cdFx0XHR0aGlzLmN0eCA9IHRoaXMudGFyZ2V0LmdldENvbnRleHQoXCIyZFwiKTtcclxuXHRcdFx0Y29uc3QgYXJlYSA9IHRoaXMudGFyZ2V0Lm9mZnNldFdpZHRoICogdGhpcy50YXJnZXQub2Zmc2V0SGVpZ2h0O1xyXG5cdFx0XHRjb25zdCBuYlBhcnRpY2xlcyA9IE1hdGguZmxvb3IoYXJlYSAvICgoMSAvIHRoaXMub3B0aW9ucy5kZW5zaXR5KSAqIDEwMDAwMCkgLyA1MCk7XHJcblxyXG5cdFx0XHQvLyBjcmVhdGUgbmV3IHBhcnRpY2xlcyBhbmQgc3RvcmUgdGhlbVxyXG5cdFx0XHR0aGlzLnBhcnRpY2xlcyA9IG5ldyBBcnJheSgpO1xyXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG5iUGFydGljbGVzOyBpKyspIHtcclxuXHRcdFx0XHR0aGlzLnBhcnRpY2xlcy5wdXNoKG5ldyBQYXJ0aWNsZSh0aGlzLnRhcmdldC5vZmZzZXRXaWR0aCwgdGhpcy50YXJnZXQub2Zmc2V0SGVpZ2h0KSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHNldCByZWZyZXNoIGludGVydmFsXHJcblx0XHRcdHRoaXMuc3RhcnQoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBjYWxsZWQgdG8gY2xlYXIgYW5kIHJlZHJhdyB0aGUgY2FudmFzXHJcblx0XHRkcmF3IChwYXJ0aWNsZXMpIHtcclxuXHRcdFx0dGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMudGFyZ2V0LndpZHRoLCB0aGlzLnRhcmdldC5oZWlnaHQpO1xyXG5cclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0aWNsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHQvLyBkcmF3IHRoZSBwYXJ0aWNsZVxyXG5cdFx0XHRcdHBhcnRpY2xlc1tpXS5kcmF3KHRoaXMuY3R4KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTsiXX0=\n"]}
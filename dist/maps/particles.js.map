{"version":3,"sources":["particles.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","options","Particle","maxX","maxY","this","reset","value","x","Math","random","y","size","max","min","speed","ctx","beginPath","arc","PI","fillStyle","color","fill","closePath","2","_typeof","Symbol","iterator","obj","constructor","window","Particles","deepExtend","destination","source","defaultOptions","density","fps","tagName","toLowerCase","width","offsetWidth","height","offsetHeight","initialize","_this","getContext","area","nbParticles","floor","particles","Array","push","setInterval","draw","clearRect","./Particle/Particle.js"],"mappings":"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","file":"../particles.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nmodule.exports = exports = function exports(options) {\n\treturn function () {\n\t\tfunction Particle(maxX, maxY) {\n\t\t\t_classCallCheck(this, Particle);\n\n\t\t\tthis.maxX = maxX;\n\t\t\tthis.maxY = maxY;\n\n\t\t\tthis.reset();\n\t\t}\n\n\t\t// reset position to somewhere on the canvas and random size and speed\n\n\n\t\t_createClass(Particle, [{\n\t\t\tkey: \"reset\",\n\t\t\tvalue: function reset() {\n\t\t\t\tthis.x = Math.random() * this.maxX;\n\t\t\t\tthis.y = Math.random() * this.maxY;\n\t\t\t\tthis.size = Math.random() * (options.size.max - options.size.min) + options.size.min;\n\n\t\t\t\tthis.speed = {\n\t\t\t\t\tx: options.speed * (Math.random() - .5),\n\t\t\t\t\ty: options.speed * (Math.random() - .5)\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// draw the particle\n\n\t\t}, {\n\t\t\tkey: \"draw\",\n\t\t\tvalue: function draw(ctx) {\n\t\t\t\tthis.x += this.speed.x;\n\t\t\t\tthis.y += this.speed.y;\n\n\t\t\t\t// if particle outside of the canvas\n\t\t\t\tif (this.x < 0 || this.y < 0 || this.x > this.maxX || this.y > this.maxY) {\n\t\t\t\t\tthis.reset();\n\t\t\t\t}\n\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(this.x, this.y, this.size, 0, 2 * Math.PI, true);\n\t\t\t\tctx.fillStyle = options.color;\n\t\t\t\tctx.fill();\n\t\t\t\tctx.closePath();\n\t\t\t}\n\t\t}]);\n\n\t\treturn Particle;\n\t}();\n};\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nwindow.Particles = function main() {\n\tvar Particle = require(\"./Particle/Particle.js\");\n\n\t// Copies keys from the source to the destination, overriding the destination keys\n\tfunction deepExtend(destination, source) {\n\t\tfor (var key in source) {\n\t\t\tif (_typeof(destination[key]) === \"object\" && _typeof(source[key]) === \"object\") {\n\t\t\t\tdestination[key] = deepExtend(destination[key], source[key]);\n\t\t\t} else {\n\t\t\t\tdestination[key] = source[key];\n\t\t\t}\n\t\t}\n\t\treturn destination;\n\t}\n\n\t// Default options\n\tvar defaultOptions = {\n\t\tsize: {\n\t\t\tmin: 0,\n\t\t\tmax: 2\n\t\t},\n\t\tdensity: 1000,\n\t\tspeed: 3,\n\t\tfps: 60,\n\t\tcolor: \"#FFFFFF\"\n\t};\n\n\treturn function () {\n\t\tfunction Particles(target, options) {\n\t\t\t_classCallCheck(this, Particles);\n\n\t\t\t// check if the target is a canvas\n\t\t\tif (!target || target.tagName.toLowerCase() !== \"canvas\") {\n\t\t\t\tthrow new Error(\"Particles: The provided target is invalid.\");\n\t\t\t} else {\n\t\t\t\t// set up the canvas\n\t\t\t\tthis.target = target;\n\t\t\t\tthis.target.width = this.target.offsetWidth;\n\t\t\t\tthis.target.height = this.target.offsetHeight;\n\n\t\t\t\t// merge default options and those passed as parameters\n\t\t\t\tthis.options = deepExtend(defaultOptions, options);\n\t\t\t\tParticle = Particle(this.options);\n\n\t\t\t\tthis.initialize();\n\t\t\t}\n\t\t}\n\n\t\t// starts the particle system\n\n\n\t\t_createClass(Particles, [{\n\t\t\tkey: \"initialize\",\n\t\t\tvalue: function initialize() {\n\t\t\t\tvar _this = this;\n\n\t\t\t\tthis.ctx = this.target.getContext(\"2d\");\n\t\t\t\tvar area = this.target.offsetWidth * this.target.offsetHeight;\n\t\t\t\tvar nbParticles = Math.floor(area / (1 / this.options.density * 100000) / 50);\n\n\t\t\t\t// create new particles and store them\n\t\t\t\tvar particles = new Array();\n\t\t\t\tfor (var i = 0; i < nbParticles; i++) {\n\t\t\t\t\tparticles.push(new Particle(this.target.offsetWidth, this.target.offsetHeight));\n\t\t\t\t}\n\n\t\t\t\t// set refresh interval\n\t\t\t\tsetInterval(function () {\n\t\t\t\t\treturn _this.draw(particles);\n\t\t\t\t}, 1000 / this.options.fps);\n\t\t\t}\n\n\t\t\t// called to clear and redraw the canvas\n\n\t\t}, {\n\t\t\tkey: \"draw\",\n\t\t\tvalue: function draw(particles) {\n\t\t\t\tthis.ctx.clearRect(0, 0, this.target.width, this.target.height);\n\n\t\t\t\tfor (var i = 0; i < particles.length; i++) {\n\t\t\t\t\t// draw the particle\n\t\t\t\t\tparticles[i].draw(this.ctx);\n\t\t\t\t}\n\t\t\t}\n\t\t}]);\n\n\t\treturn Particles;\n\t}();\n}();\n\n},{\"./Particle/Particle.js\":1}]},{},[2])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJsaWJcXFBhcnRpY2xlXFxQYXJ0aWNsZS5qcyIsImxpYlxcaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUNBQSxPQUFPLE9BQVAsR0FBaUIsVUFBVyxpQkFBVSxPQUFWLEVBQW1CO0FBQzlDO0FBQ0Msb0JBQWEsSUFBYixFQUFtQixJQUFuQixFQUF5QjtBQUFBOztBQUN4QixRQUFLLElBQUwsR0FBWSxJQUFaO0FBQ0EsUUFBSyxJQUFMLEdBQVksSUFBWjs7QUFFQSxRQUFLLEtBQUw7QUFDQTs7QUFFRDs7O0FBUkQ7QUFBQTtBQUFBLDJCQVNVO0FBQ1IsU0FBSyxDQUFMLEdBQVMsS0FBSyxNQUFMLEtBQWdCLEtBQUssSUFBOUI7QUFDQSxTQUFLLENBQUwsR0FBUyxLQUFLLE1BQUwsS0FBZ0IsS0FBSyxJQUE5QjtBQUNBLFNBQUssSUFBTCxHQUFZLEtBQUssTUFBTCxNQUFpQixRQUFRLElBQVIsQ0FBYSxHQUFiLEdBQW1CLFFBQVEsSUFBUixDQUFhLEdBQWpELElBQXdELFFBQVEsSUFBUixDQUFhLEdBQWpGOztBQUVBLFNBQUssS0FBTCxHQUFhO0FBQ1osUUFBRyxRQUFRLEtBQVIsSUFBaUIsS0FBSyxNQUFMLEtBQWdCLEVBQWpDLENBRFM7QUFFWixRQUFHLFFBQVEsS0FBUixJQUFpQixLQUFLLE1BQUwsS0FBZ0IsRUFBakM7QUFGUyxLQUFiO0FBSUE7O0FBRUQ7O0FBcEJEO0FBQUE7QUFBQSx3QkFxQk8sR0FyQlAsRUFxQlk7QUFDVixTQUFLLENBQUwsSUFBVSxLQUFLLEtBQUwsQ0FBVyxDQUFyQjtBQUNBLFNBQUssQ0FBTCxJQUFVLEtBQUssS0FBTCxDQUFXLENBQXJCOztBQUVBO0FBQ0EsUUFBSSxLQUFLLENBQUwsR0FBUyxDQUFULElBQWMsS0FBSyxDQUFMLEdBQVMsQ0FBdkIsSUFBNEIsS0FBSyxDQUFMLEdBQVMsS0FBSyxJQUExQyxJQUFrRCxL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TyxTQXBDUCxFQW9Da0I7QUFDaEIsU0FBSyxHQUFMLENBQVMsU0FBVCxDQUFtQixDQUFuQixFQUFzQixDQUF0QixFQUF5QixLQUFLLE1BQUwsQ0FBWSxLQUFyQyxFQUE0QyxLQUFLLE1BQUwsQ0FBWSxNQUF4RDs7QUFFQSxTQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksVUFBVSxNQUE5QixFQUFzQyxHQUF0QyxFQUEyQztBQUMxQztBQUNBLGVBQVUsQ0FBVixFQUFhLElBQWIsQ0FBa0IsS0FBSyxHQUF2QjtBQUNBO0FBQ0Q7QUEzQ0Y7O0FBQUE7QUFBQTtBQTZDQSxDQXhFa0IsRUFBbkIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwibW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gKGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcblx0cmV0dXJuIGNsYXNzIFBhcnRpY2xlIHtcclxuXHRcdGNvbnN0cnVjdG9yIChtYXhYLCBtYXhZKSB7XHJcblx0XHRcdHRoaXMubWF4WCA9IG1heFg7XHJcblx0XHRcdHRoaXMubWF4WSA9IG1heFk7XHJcblx0XHRcdFxyXG5cdFx0XHR0aGlzLnJlc2V0KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gcmVzZXQgcG9zaXRpb24gdG8gc29tZXdoZXJlIG9uIHRoZSBjYW52YXMgYW5kIHJhbmRvbSBzaXplIGFuZCBzcGVlZFxyXG5cdFx0cmVzZXQgKCkge1xyXG5cdFx0XHR0aGlzLnggPSBNYXRoLnJhbmRvbSgpICogdGhpcy5tYXhYO1xyXG5cdFx0XHR0aGlzLnkgPSBNYXRoLnJhbmRvbSgpICogdGhpcy5tYXhZO1xyXG5cdFx0XHR0aGlzLnNpemUgPSBNYXRoLnJhbmRvbSgpICogKG9wdGlvbnMuc2l6ZS5tYXggLSBvcHRpb25zLnNpemUubWluKSArIG9wdGlvbnMuc2l6ZS5taW47XHJcblxyXG5cdFx0XHR0aGlzLnNwZWVkID0ge1xyXG5cdFx0XHRcdHg6IG9wdGlvbnMuc3BlZWQgKiAoTWF0aC5yYW5kb20oKSAtIC41KSxcclxuXHRcdFx0XHR5OiBvcHRpb25zLnNwZWVkICogKE1hdGgucmFuZG9tKCkgLSAuNSlcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGRyYXcgdGhlIHBhcnRpY2xlXHJcblx0XHRkcmF3IChjdHgpIHtcclxuXHRcdFx0dGhpcy54ICs9IHRoaXMuc3BlZWQueDtcclxuXHRcdFx0dGhpcy55ICs9IHRoaXMuc3BlZWQueTtcclxuXHJcblx0XHRcdC8vIGlmIHBhcnRpY2xlIG91dHNpZGUgb2YgdGhlIGNhbnZhc1xyXG5cdFx0XHRpZiAodGhpcy54IDwgMCB8fCB0aGlzLnkgPCAwIHx8IHRoaXMueCA+IHRoaXMubWF4WCB8fCB0aGlzLnkgPiB0aGlzLm1heFkpIHtcclxuXHRcdFx0XHR0aGlzLnJlc2V0KCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGN0eC5iZWdpblBhdGgoKTtcclxuXHRcdFx0Y3R4LmFyYyh0aGlzLngsIHRoaXMueSwgdGhpcy5zaXplLCAwLCAyICogTWF0aC5QSSwgdHJ1ZSk7XHJcblx0XHRcdGN0eC5maWxsU3R5bGUgPSBvcHRpb25zLmNvbG9yO1xyXG5cdFx0XHRjdHguZmlsbCgpO1xyXG5cdFx0XHRjdHguY2xvc2VQYXRoKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KTsiLCJ3aW5kb3cuUGFydGljbGVzID0gKGZ1bmN0aW9uIG1haW4gKCkge1xyXG5cdGxldCBQYXJ0aWNsZSA9IHJlcXVpcmUoXCIuL1BhcnRpY2xlL1BhcnRpY2xlLmpzXCIpO1xyXG5cclxuXHQvLyBDb3BpZXMga2V5cyBmcm9tIHRoZSBzb3VyY2UgdG8gdGhlIGRlc3RpbmF0aW9uLCBvdmVycmlkaW5nIHRoZSBkZXN0aW5hdGlvbiBrZXlzXHJcblx0ZnVuY3Rpb24gZGVlcEV4dGVuZCAoZGVzdGluYXRpb24sIHNvdXJjZSkge1xyXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gc291cmNlKSB7XHJcblx0XHRcdGlmICh0eXBlb2YgZGVzdGluYXRpb25ba2V5XSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygc291cmNlW2tleV0gPT09IFwib2JqZWN0XCIpIHtcclxuXHRcdFx0XHRkZXN0aW5hdGlvbltrZXldID0gZGVlcEV4dGVuZChkZXN0aW5hdGlvbltrZXldLCBzb3VyY2Vba2V5XSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0ZGVzdGluYXRpb25ba2V5XSA9IHNvdXJjZVtrZXldO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZGVzdGluYXRpb247XHJcblx0fVxyXG5cclxuXHQvLyBEZWZhdWx0IG9wdGlvbnNcclxuXHRjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcclxuXHRcdHNpemU6IHtcclxuXHRcdFx0bWluOiAwLFxyXG5cdFx0XHRtYXg6IDJcclxuXHRcdH0sXHJcblx0XHRkZW5zaXR5OiAxMDAwLFxyXG5cdFx0c3BlZWQ6IDMsXHJcblx0XHRmcHM6IDYwLFxyXG5cdFx0Y29sb3I6IFwiI0ZGRkZGRlwiXHJcblx0fTtcclxuXHJcblx0cmV0dXJuIGNsYXNzIFBhcnRpY2xlcyB7XHJcblx0XHRjb25zdHJ1Y3RvciAodGFyZ2V0LCBvcHRpb25zKSB7XHJcblx0XHRcdC8vIGNoZWNrIGlmIHRoZSB0YXJnZXQgaXMgYSBjYW52YXNcclxuXHRcdFx0aWYgKCF0YXJnZXQgfHwgdGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gXCJjYW52YXNcIikge1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIlBhcnRpY2xlczogVGhlIHByb3ZpZGVkIHRhcmdldCBpcyBpbnZhbGlkLlwiKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBzZXQgdXAgdGhlIGNhbnZhc1xyXG5cdFx0XHRcdHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xyXG5cdFx0XHRcdHRoaXMudGFyZ2V0LndpZHRoID0gdGhpcy50YXJnZXQub2Zmc2V0V2lkdGg7XHJcblx0XHRcdFx0dGhpcy50YXJnZXQuaGVpZ2h0ID0gdGhpcy50YXJnZXQub2Zmc2V0SGVpZ2h0O1xyXG5cclxuXHRcdFx0XHQvLyBtZXJnZSBkZWZhdWx0IG9wdGlvbnMgYW5kIHRob3NlIHBhc3NlZCBhcyBwYXJhbWV0ZXJzXHJcblx0XHRcdFx0dGhpcy5vcHRpb25zID0gZGVlcEV4dGVuZChkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XHJcblx0XHRcdFx0UGFydGljbGUgPSBQYXJ0aWNsZSh0aGlzLm9wdGlvbnMpO1xyXG5cclxuXHRcdFx0XHR0aGlzLmluaXRpYWxpemUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHN0YXJ0cyB0aGUgcGFydGljbGUgc3lzdGVtXHJcblx0XHRpbml0aWFsaXplICgpIHtcclxuXHRcdFx0dGhpcy5jdHggPSB0aGlzLnRhcmdldC5nZXRDb250ZXh0KFwiMmRcIik7XHJcblx0XHRcdGNvbnN0IGFyZWEgPSB0aGlzLnRhcmdldC5vZmZzZXRXaWR0aCAqIHRoaXMudGFyZ2V0Lm9mZnNldEhlaWdodDtcclxuXHRcdFx0Y29uc3QgbmJQYXJ0aWNsZXMgPSBNYXRoLmZsb29yKGFyZWEgLyAoKDEgLyB0aGlzLm9wdGlvbnMuZGVuc2l0eSkgKiAxMDAwMDApIC8gNTApO1xyXG5cclxuXHRcdFx0Ly8gY3JlYXRlIG5ldyBwYXJ0aWNsZXMgYW5kIHN0b3JlIHRoZW1cclxuXHRcdFx0Y29uc3QgcGFydGljbGVzID0gbmV3IEFycmF5KCk7XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbmJQYXJ0aWNsZXM7IGkrKykge1xyXG5cdFx0XHRcdHBhcnRpY2xlcy5wdXNoKG5ldyBQYXJ0aWNsZSh0aGlzLnRhcmdldC5vZmZzZXRXaWR0aCwgdGhpcy50YXJnZXQub2Zmc2V0SGVpZ2h0KSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHNldCByZWZyZXNoIGludGVydmFsXHJcblx0XHRcdHNldEludGVydmFsKCgpID0+IHRoaXMuZHJhdyhwYXJ0aWNsZXMpLCAxMDAwIC8gdGhpcy5vcHRpb25zLmZwcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gY2FsbGVkIHRvIGNsZWFyIGFuZCByZWRyYXcgdGhlIGNhbnZhc1xyXG5cdFx0ZHJhdyAocGFydGljbGVzKSB7XHJcblx0XHRcdHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLnRhcmdldC53aWR0aCwgdGhpcy50YXJnZXQuaGVpZ2h0KTtcclxuXHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcGFydGljbGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0Ly8gZHJhdyB0aGUgcGFydGljbGVcclxuXHRcdFx0XHRwYXJ0aWNsZXNbaV0uZHJhdyh0aGlzLmN0eCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7Il19\n"]}
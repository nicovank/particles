{"version":3,"sources":["particles.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","options","Particle","maxX","maxY","this","reset","value","x","Math","random","y","size","max","min","speed","ctx","beginPath","arc","PI","fillStyle","color","fill","closePath","2","_typeof","Symbol","iterator","obj","constructor","window","Particles","deepExtend","destination","source","defaultOptions","density","fps","tagName","toLowerCase","width","offsetWidth","height","offsetHeight","initialize","_this","getContext","area","nbParticles","floor","particles","Array","push","setInterval","draw","clearRect","./Particle/Particle.js"],"mappings":"CAAA,QAAUA,GAAEC,EAAEC,EAAEC,GAAG,QAASC,GAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,GAAIE,GAAkB,kBAATC,UAAqBA,OAAQ,KAAIF,GAAGC,EAAE,MAAOA,GAAEF,GAAE,EAAI,IAAGI,EAAE,MAAOA,GAAEJ,GAAE,EAAI,IAAIK,GAAE,GAAIC,OAAM,uBAAuBN,EAAE,IAAK,MAAMK,GAAEE,KAAK,mBAAmBF,EAAE,GAAIG,GAAEX,EAAEG,IAAIS,WAAYb,GAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,GAAIE,GAAED,EAAEI,GAAG,GAAGL,EAAG,OAAOI,GAAEF,EAAEA,EAAEF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,MAAOD,GAAEG,GAAGS,QAAkD,IAAI,GAA1CL,GAAkB,kBAATD,UAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,GAAI,OAAOD,KAAKa,GAAG,SAAST,EAAQU,EAAOJ,GACvd,YAIA,SAASK,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAFhH,GAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIjB,GAAI,EAAGA,EAAIiB,EAAMV,OAAQP,IAAK,CAAE,GAAIkB,GAAaD,EAAMjB,EAAIkB,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeP,EAAQE,EAAWM,IAAKN,IAAiB,MAAO,UAAUN,EAAaa,EAAYC,GAAiJ,MAA9HD,IAAYV,EAAiBH,EAAYe,UAAWF,GAAiBC,GAAaX,EAAiBH,EAAac,GAAqBd,KAIhiBH,GAAOJ,QAAUA,EAAU,SAAiBuB,GAC3C,MAAO,YACN,QAASC,GAASC,EAAMC,GACvBrB,EAAgBsB,KAAMH,GAEtBG,KAAKF,KAAOA,EACZE,KAAKD,KAAOA,EAEZC,KAAKC,QAiCN,MA9BAnB,GAAae,IACZL,IAAK,QACLU,MAAO,WACNF,KAAKG,EAAIC,KAAKC,SAAWL,KAAKF,KAC9BE,KAAKM,EAAIF,KAAKC,SAAWL,KAAKD,KAC9BC,KAAKO,KAAOH,KAAKC,UAAYT,EAAQW,KAAKC,IAAMZ,EAAQW,KAAKE,KAAOb,EAAQW,KAAKE,IAEjFT,KAAKU,OACJP,EAAGP,EAAQc,OAASN,KAAKC,SAAW,IACpCC,EAAGV,EAAQc,OAASN,KAAKC,SAAW,QAItCb,IAAK,OACLU,MAAO,SAAcS,GACpBX,KAAKG,GAAKH,KAAKU,MAAMP,EACrBH,KAAKM,GAAKN,KAAKU,MAAMJ,GAEjBN,KAAKG,EAAI,GAAKH,KAAKM,EAAI,GAAKN,KAAKG,EAAIH,KAAKF,MAAQE,KAAKM,EAAIN,KAAKD,OACnEC,KAAKC,QAGNU,EAAIC,YACJD,EAAIE,IAAIb,KAAKG,EAAGH,KAAKM,EAAGN,KAAKO,KAAM,EAAG,EAAIH,KAAKU,IAAI,GACnDH,EAAII,UAAYnB,EAAQoB,MACxBL,EAAIM,OACJN,EAAIO,gBAICrB,WAIHsB,GAAG,SAASpD,EAAQU,EAAOJ,GACjC,YAMA,SAASK,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAJhH,GAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIjB,GAAI,EAAGA,EAAIiB,EAAMV,OAAQP,IAAK,CAAE,GAAIkB,GAAaD,EAAMjB,EAAIkB,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeP,EAAQE,EAAWM,IAAKN,IAAiB,MAAO,UAAUN,EAAaa,EAAYC,GAAiJ,MAA9HD,IAAYV,EAAiBH,EAAYe,UAAWF,GAAiBC,GAAaX,EAAiBH,EAAac,GAAqBd,MAE5hBwC,EAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUC,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXF,SAAyBE,EAAIC,cAAgBH,QAAUE,IAAQF,OAAO1B,UAAY,eAAkB4B,GAItQE,QAAOC,UAAY,WAIlB,QAASC,GAAWC,EAAaC,GAChC,IAAK,GAAIrC,KAAOqC,GACmB,WAA9BT,EAAQQ,EAAYpC,KAA+C,WAAzB4B,EAAQS,EAAOrC,IAC5DoC,EAAYpC,GAAOmC,EAAWC,EAAYpC,GAAMqC,EAAOrC,IAEvDoC,EAAYpC,GAAOqC,EAAOrC,EAG5B,OAAOoC,GAXR,GAAI/B,GAAW9B,EAAQ,0BAenB+D,GACHvB,MACCE,IAAK,EACLD,IAAK,GAENuB,QAAS,IACTrB,MAAO,GACPsB,IAAK,GACLhB,MAAO,UAGR,OAAO,YACN,QAASU,GAAU1C,EAAQY,GAI1B,GAHAlB,EAAgBsB,KAAM0B,IAGjB1C,GAA2C,WAAjCA,EAAOiD,QAAQC,cAC7B,KAAM,IAAIhE,OAAM,6CAEhB8B,MAAKhB,OAASA,EACdgB,KAAKhB,OAAOmD,MAAQnC,KAAKhB,OAAOoD,YAChCpC,KAAKhB,OAAOqD,OAASrC,KAAKhB,OAAOsD,aACjCtC,KAAKJ,QAAU+B,EAAWG,EAAgBlC,GAC1CC,EAAWA,EAASG,KAAKJ,SAEzBI,KAAKuC,aAkCP,MA9BAzD,GAAa4C,IACZlC,IAAK,aACLU,MAAO,WACN,GAAIsC,GAAQxC,IAEZA,MAAKW,IAAMX,KAAKhB,OAAOyD,WAAW,KAMlC,KAAK,GALDC,GAAO1C,KAAKhB,OAAOoD,YAAcpC,KAAKhB,OAAOsD,aAC7CK,EAAcvC,KAAKwC,MAAMF,GAAQ,EAAI1C,KAAKJ,QAAQmC,QAAU,KAAU,IAGtEc,EAAY,GAAIC,OACX9E,EAAI,EAAGA,EAAI2E,EAAa3E,IAChC6E,EAAUE,KAAK,GAAIlD,GAASG,KAAKhB,OAAOoD,YAAapC,KAAKhB,OAAOsD,cAGlEU,aAAY,WACX,MAAOR,GAAMS,KAAKJ,IAChB,IAAO7C,KAAKJ,QAAQoC,QAGxBxC,IAAK,OACLU,MAAO,SAAc2C,GACpB7C,KAAKW,IAAIuC,UAAU,EAAG,EAAGlD,KAAKhB,OAAOmD,MAAOnC,KAAKhB,OAAOqD,OAExD,KAAK,GAAIrE,GAAI,EAAGA,EAAI6E,EAAUtE,OAAQP,IACrC6E,EAAU7E,GAAGiF,KAAKjD,KAAKW,SAKnBe,UAINyB,yBAAyB,SAAS","file":"../particles.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nmodule.exports = exports = function exports(options) {\n\treturn function () {\n\t\tfunction Particle(maxX, maxY) {\n\t\t\t_classCallCheck(this, Particle);\n\n\t\t\tthis.maxX = maxX;\n\t\t\tthis.maxY = maxY;\n\n\t\t\tthis.reset();\n\t\t}\n\n\t\t_createClass(Particle, [{\n\t\t\tkey: \"reset\",\n\t\t\tvalue: function reset() {\n\t\t\t\tthis.x = Math.random() * this.maxX;\n\t\t\t\tthis.y = Math.random() * this.maxY;\n\t\t\t\tthis.size = Math.random() * (options.size.max - options.size.min) + options.size.min;\n\n\t\t\t\tthis.speed = {\n\t\t\t\t\tx: options.speed * (Math.random() - .5),\n\t\t\t\t\ty: options.speed * (Math.random() - .5)\n\t\t\t\t};\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"draw\",\n\t\t\tvalue: function draw(ctx) {\n\t\t\t\tthis.x += this.speed.x;\n\t\t\t\tthis.y += this.speed.y;\n\n\t\t\t\tif (this.x < 0 || this.y < 0 || this.x > this.maxX || this.y > this.maxY) {\n\t\t\t\t\tthis.reset();\n\t\t\t\t}\n\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(this.x, this.y, this.size, 0, 2 * Math.PI, true);\n\t\t\t\tctx.fillStyle = options.color;\n\t\t\t\tctx.fill();\n\t\t\t\tctx.closePath();\n\t\t\t}\n\t\t}]);\n\n\t\treturn Particle;\n\t}();\n};\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nwindow.Particles = function main() {\n\tvar Particle = require(\"./Particle/Particle.js\");\n\n\t// Copies keys from the source to the destination, overriding the destination keys\n\tfunction deepExtend(destination, source) {\n\t\tfor (var key in source) {\n\t\t\tif (_typeof(destination[key]) === \"object\" && _typeof(source[key]) === \"object\") {\n\t\t\t\tdestination[key] = deepExtend(destination[key], source[key]);\n\t\t\t} else {\n\t\t\t\tdestination[key] = source[key];\n\t\t\t}\n\t\t}\n\t\treturn destination;\n\t}\n\n\t// Default options\n\tvar defaultOptions = {\n\t\tsize: {\n\t\t\tmin: 0,\n\t\t\tmax: 2\n\t\t},\n\t\tdensity: 1000,\n\t\tspeed: 10,\n\t\tfps: 30,\n\t\tcolor: \"#FFFFFF\"\n\t};\n\n\treturn function () {\n\t\tfunction Particles(target, options) {\n\t\t\t_classCallCheck(this, Particles);\n\n\t\t\t// Check if the target is a canvas\n\t\t\tif (!target || target.tagName.toLowerCase() !== \"canvas\") {\n\t\t\t\tthrow new Error(\"Particles: The provided target is invalid.\");\n\t\t\t} else {\n\t\t\t\tthis.target = target;\n\t\t\t\tthis.target.width = this.target.offsetWidth;\n\t\t\t\tthis.target.height = this.target.offsetHeight;\n\t\t\t\tthis.options = deepExtend(defaultOptions, options);\n\t\t\t\tParticle = Particle(this.options);\n\n\t\t\t\tthis.initialize();\n\t\t\t}\n\t\t}\n\n\t\t_createClass(Particles, [{\n\t\t\tkey: \"initialize\",\n\t\t\tvalue: function initialize() {\n\t\t\t\tvar _this = this;\n\n\t\t\t\tthis.ctx = this.target.getContext(\"2d\");\n\t\t\t\tvar area = this.target.offsetWidth * this.target.offsetHeight;\n\t\t\t\tvar nbParticles = Math.floor(area / (1 / this.options.density * 100000) / 50);\n\n\t\t\t\t// create new particles and store them\n\t\t\t\tvar particles = new Array();\n\t\t\t\tfor (var i = 0; i < nbParticles; i++) {\n\t\t\t\t\tparticles.push(new Particle(this.target.offsetWidth, this.target.offsetHeight));\n\t\t\t\t}\n\n\t\t\t\tsetInterval(function () {\n\t\t\t\t\treturn _this.draw(particles);\n\t\t\t\t}, 1000 / this.options.fps);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"draw\",\n\t\t\tvalue: function draw(particles) {\n\t\t\t\tthis.ctx.clearRect(0, 0, this.target.width, this.target.height);\n\n\t\t\t\tfor (var i = 0; i < particles.length; i++) {\n\t\t\t\t\tparticles[i].draw(this.ctx);\n\t\t\t\t}\n\t\t\t}\n\t\t}]);\n\n\t\treturn Particles;\n\t}();\n}();\n\n},{\"./Particle/Particle.js\":1}]},{},[2])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJsaWJcXFBhcnRpY2xlXFxQYXJ0aWNsZS5qcyIsImxpYlxcaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUNBQSxPQUFPLE9BQVAsR0FBaUIsVUFBVyxpQkFBVSxPQUFWLEVBQW1CO0FBQzlDO0FBQ0Msb0JBQWEsSUFBYixFQUFtQixJQUFuQixFQUF5QjtBQUFBOztBQUN4QixRQUFLLElBQUwsR0FBWSxJQUFaO0FBQ0EsUUFBSyxJQUFMLEdBQVksSUFBWjs7QUFFQSxRQUFLLEtBQUw7QUFDQTs7QUFORjtBQUFBO0FBQUEsMkJBUVU7QUFDUixTQUFLLENBQUwsR0FBUyxLQUFLLE1BQUwsS0FBZ0IsS0FBSyxJQUE5QjtBQUNBLFNBQUssQ0FBTCxHQUFTLEtBQUssTUFBTCxLQUFnQixLQUFLLElBQTlCO0FBQ0EsU0FBSyxJQUFMLEdBQVksS0FBSyxNQUFMLE1BQWlCLFFBQVEsSUFBUixDQUFhLEdBQWIsR0FBbUIsUUFBUSxJQUFSLENBQWEsR0FBakQsSUFBd0QsUUFBUSxJQUFSLENBQWEsR0FBakY7O0FBRUEsU0FBSyxLQUFMLEdBQWE7QUFDWixRQUFHLFFBQVEsS0FBUixJQUFpQixLQUFLLE1BQUwsS0FBZ0IsRUFBakMsQ0FEUztBQUVaLFFBQUcsUUFBUSxLQUFSLElBQWlCLEtBQUssTUFBTCxLQUFnQixFQUFqQztBQUZTLEtBQWI7QUFJQTtBQWpCRjtBQUFBO0FBQUEsd0JBbUJPLEdBbkJQLEVBbUJZO0FBQ1YsU0FBSyxDQUFMLElBQVUsS0FBSyxLQUFMLENBQVcsQ0FBckI7QUFDQSxTQUFLLENBQUwsSUFBVSxLQUFLLEtBQUwsQ0FBVyxDQUFyQjs7QUFFQSxRQUFJLEtBQUssQ0FBTCxHQUFTLENBQVQsSUFBYyxLQUFLLENBQUwsR0FBUyxDQUF2QixJQUE0QixLQUFLLENBQUwsR0FBUyxLQUFLLElBQTFDLElBQWtELEtBQUssQ0FBTCxHQUFTLEtBQUss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bkIsRUFBc0IsQ0FBdEIsRUFBeUIsS0FBSyxNQUFMLENBQVksS0FBckMsRUFBNEMsS0FBSyxNQUFMLENBQVksTUFBeEQ7O0FBRUEsU0FBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLFVBQVUsTUFBOUIsRUFBc0MsR0FBdEMsRUFBMkM7QUFDMUMsZUFBVSxDQUFWLEVBQWEsSUFBYixDQUFrQixLQUFLLEdBQXZCO0FBQ0E7QUFDRDtBQXBDRjs7QUFBQTtBQUFBO0FBc0NBLENBakVrQixFQUFuQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSAoZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuXHRyZXR1cm4gY2xhc3MgUGFydGljbGUge1xyXG5cdFx0Y29uc3RydWN0b3IgKG1heFgsIG1heFkpIHtcclxuXHRcdFx0dGhpcy5tYXhYID0gbWF4WDtcclxuXHRcdFx0dGhpcy5tYXhZID0gbWF4WTtcclxuXHRcdFx0XHJcblx0XHRcdHRoaXMucmVzZXQoKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXNldCAoKSB7XHJcblx0XHRcdHRoaXMueCA9IE1hdGgucmFuZG9tKCkgKiB0aGlzLm1heFg7XHJcblx0XHRcdHRoaXMueSA9IE1hdGgucmFuZG9tKCkgKiB0aGlzLm1heFk7XHJcblx0XHRcdHRoaXMuc2l6ZSA9IE1hdGgucmFuZG9tKCkgKiAob3B0aW9ucy5zaXplLm1heCAtIG9wdGlvbnMuc2l6ZS5taW4pICsgb3B0aW9ucy5zaXplLm1pbjtcclxuXHJcblx0XHRcdHRoaXMuc3BlZWQgPSB7XHJcblx0XHRcdFx0eDogb3B0aW9ucy5zcGVlZCAqIChNYXRoLnJhbmRvbSgpIC0gLjUpLFxyXG5cdFx0XHRcdHk6IG9wdGlvbnMuc3BlZWQgKiAoTWF0aC5yYW5kb20oKSAtIC41KVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZHJhdyAoY3R4KSB7XHJcblx0XHRcdHRoaXMueCArPSB0aGlzLnNwZWVkLng7XHJcblx0XHRcdHRoaXMueSArPSB0aGlzLnNwZWVkLnk7XHJcblxyXG5cdFx0XHRpZiAodGhpcy54IDwgMCB8fCB0aGlzLnkgPCAwIHx8IHRoaXMueCA+IHRoaXMubWF4WCB8fCB0aGlzLnkgPiB0aGlzLm1heFkpIHtcclxuXHRcdFx0XHR0aGlzLnJlc2V0KCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGN0eC5iZWdpblBhdGgoKTtcclxuXHRcdFx0Y3R4LmFyYyh0aGlzLngsIHRoaXMueSwgdGhpcy5zaXplLCAwLCAyICogTWF0aC5QSSwgdHJ1ZSk7XHJcblx0XHRcdGN0eC5maWxsU3R5bGUgPSBvcHRpb25zLmNvbG9yO1xyXG5cdFx0XHRjdHguZmlsbCgpO1xyXG5cdFx0XHRjdHguY2xvc2VQYXRoKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KTsiLCJ3aW5kb3cuUGFydGljbGVzID0gKGZ1bmN0aW9uIG1haW4oKSB7XHJcblx0bGV0IFBhcnRpY2xlID0gcmVxdWlyZShcIi4vUGFydGljbGUvUGFydGljbGUuanNcIik7XHJcblxyXG5cdC8vIENvcGllcyBrZXlzIGZyb20gdGhlIHNvdXJjZSB0byB0aGUgZGVzdGluYXRpb24sIG92ZXJyaWRpbmcgdGhlIGRlc3RpbmF0aW9uIGtleXNcclxuXHRmdW5jdGlvbiBkZWVwRXh0ZW5kIChkZXN0aW5hdGlvbiwgc291cmNlKSB7XHJcblx0XHRmb3IgKGNvbnN0IGtleSBpbiBzb3VyY2UpIHtcclxuXHRcdFx0aWYgKHR5cGVvZiBkZXN0aW5hdGlvbltrZXldID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBzb3VyY2Vba2V5XSA9PT0gXCJvYmplY3RcIikge1xyXG5cdFx0XHRcdGRlc3RpbmF0aW9uW2tleV0gPSBkZWVwRXh0ZW5kKGRlc3RpbmF0aW9uW2tleV0sIHNvdXJjZVtrZXldKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRkZXN0aW5hdGlvbltrZXldID0gc291cmNlW2tleV07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBkZXN0aW5hdGlvbjtcclxuXHR9XHJcblxyXG5cdC8vIERlZmF1bHQgb3B0aW9uc1xyXG5cdGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xyXG5cdFx0c2l6ZToge1xyXG5cdFx0XHRtaW46IDAsXHJcblx0XHRcdG1heDogMlxyXG5cdFx0fSxcclxuXHRcdGRlbnNpdHk6IDEwMDAsXHJcblx0XHRzcGVlZDogMTAsXHJcblx0XHRmcHM6IDMwLFxyXG5cdFx0Y29sb3I6IFwiI0ZGRkZGRlwiXHJcblx0fVxyXG5cclxuXHRyZXR1cm4gY2xhc3MgUGFydGljbGVzIHtcclxuXHRcdGNvbnN0cnVjdG9yICh0YXJnZXQsIG9wdGlvbnMpIHtcclxuXHRcdFx0Ly8gQ2hlY2sgaWYgdGhlIHRhcmdldCBpcyBhIGNhbnZhc1xyXG5cdFx0XHRpZiAoIXRhcmdldCB8fCB0YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcImNhbnZhc1wiKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiUGFydGljbGVzOiBUaGUgcHJvdmlkZWQgdGFyZ2V0IGlzIGludmFsaWQuXCIpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xyXG5cdFx0XHRcdHRoaXMudGFyZ2V0LndpZHRoID0gdGhpcy50YXJnZXQub2Zmc2V0V2lkdGg7XHJcblx0XHRcdFx0dGhpcy50YXJnZXQuaGVpZ2h0ID0gdGhpcy50YXJnZXQub2Zmc2V0SGVpZ2h0O1xyXG5cdFx0XHRcdHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xyXG5cdFx0XHRcdFBhcnRpY2xlID0gUGFydGljbGUodGhpcy5vcHRpb25zKTtcclxuXHJcblx0XHRcdFx0dGhpcy5pbml0aWFsaXplKCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpbml0aWFsaXplICgpIHtcclxuXHRcdFx0dGhpcy5jdHggPSB0aGlzLnRhcmdldC5nZXRDb250ZXh0KFwiMmRcIik7XHJcblx0XHRcdGNvbnN0IGFyZWEgPSB0aGlzLnRhcmdldC5vZmZzZXRXaWR0aCAqIHRoaXMudGFyZ2V0Lm9mZnNldEhlaWdodDtcclxuXHRcdFx0Y29uc3QgbmJQYXJ0aWNsZXMgPSBNYXRoLmZsb29yKGFyZWEgLyAoKDEgLyB0aGlzLm9wdGlvbnMuZGVuc2l0eSkgKiAxMDAwMDApIC8gNTApO1xyXG5cclxuXHRcdFx0Ly8gY3JlYXRlIG5ldyBwYXJ0aWNsZXMgYW5kIHN0b3JlIHRoZW1cclxuXHRcdFx0Y29uc3QgcGFydGljbGVzID0gbmV3IEFycmF5KCk7XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbmJQYXJ0aWNsZXM7IGkrKykge1xyXG5cdFx0XHRcdHBhcnRpY2xlcy5wdXNoKG5ldyBQYXJ0aWNsZSh0aGlzLnRhcmdldC5vZmZzZXRXaWR0aCwgdGhpcy50YXJnZXQub2Zmc2V0SGVpZ2h0KSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHNldEludGVydmFsKCgpID0+IHRoaXMuZHJhdyhwYXJ0aWNsZXMpLCAxMDAwIC8gdGhpcy5vcHRpb25zLmZwcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZHJhdyAocGFydGljbGVzKSB7XHJcblx0XHRcdHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLnRhcmdldC53aWR0aCwgdGhpcy50YXJnZXQuaGVpZ2h0KTtcclxuXHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcGFydGljbGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0cGFydGljbGVzW2ldLmRyYXcodGhpcy5jdHgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpOyJdfQ==\n"]}